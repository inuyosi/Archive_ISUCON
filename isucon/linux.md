
|  やりたいこと  |     コマンド      | 備考 |
| --- | ----------- | ------- |
|  コマンドを実行している際に利用しているシステムコールの確認   | strace ls |  lsは対象コマンド    |
| プロセスの確認    | ps auxufww |       |
| ストレージの性能確認 | fio -filename=./testfile -direct=1 -rw=read -bs=4k -size=2G -runtime=10 -group_reporting -name=file
 | ./testfileは性能確認用ファイル |
| ブロックデバイスの確認    |  lsblk |       |
| マウントディレクトリの確認    |  df -hT / |       |
| ディスクマウント設定の確認    |   mount |grep "/dev/nvme0n1" | /dev/nvme0n1は対象ディスク |
| I/Oスケジューラの確認    |   cat /sys/block/nvme0n1/queue/scheduler | nvme0n1は対象ディスク |


|  設定ファイル  |     コマンド      | 備考 |
| --- | ----------- | ------- |
| ディスクマウント   | /etc/fstab |  |


---
- Webネットワークのメトリクス
 - スループットとレイテンシ
- Linux Kernelのパケット処理効率化
  - RSS
  - コンテキストスイッチコストの低減
    - Linux NAPI
- LinuxのディスクI/O  
  - 動画、3Dデータ: SSDのランダムリード/ランダムライト
  - 仮想ディスクはシーケンシャルリード/ライトが低速
  - 性能のはかり方
    - スループット
    - レイテンシ
      - 動画のような大きなファイルで重視
    - IOPS: 高いほうが良い
     - テキストや画像を大量に配信するコンテンツで重視
  - VMのストレージ
    - ネットワーク上のレイテンシがそのままストレージのレイテンシへ
    - レイテンシが不安定になる
  - TRIM命令: ファイルの削除と同時に実データの完全削除も同時に行う
    - fstrimの突発的な負荷を回避可能
  - ラズパイ: roオプションをつけると良い
  - mq-deadlineスケジューラ
  - kTLS
